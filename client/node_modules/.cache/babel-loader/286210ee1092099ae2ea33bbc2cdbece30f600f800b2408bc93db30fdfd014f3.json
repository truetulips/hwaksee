{"ast":null,"code":"var _jsxFileName = \"D:\\\\creative\\\\react\\\\hwaksee\\\\client\\\\src\\\\pages\\\\UserList.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from '../api/axios';\nimport styles from '../css/Dashboard.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ITEMS_PER_PAGE = 20;\nexport default function UserList({\n  isAdmin\n}) {\n  _s();\n  const [users, setUsers] = useState([]);\n  // const [selected, setSelected] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const formatPhone = phone => (phone === null || phone === void 0 ? void 0 : phone.slice(-8)) || '정보 없음';\n  useEffect(() => {\n    axios.get('/users', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => setUsers(res.data)).catch(err => console.error('사용자 불러오기 실패:', err));\n  }, []);\n\n  // const toggleSelect = id => {\n  //   setSelected(prev =>\n  //     prev.includes(id) ? prev.filter(i => i !== id) : [...prev, id]\n  //   );\n  // };\n\n  const paginated = users.slice((currentPage - 1) * ITEMS_PER_PAGE, currentPage * ITEMS_PER_PAGE);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.listHeader,\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uC0AC\\uC6A9\\uC790 \\uB9AC\\uC2A4\\uD2B8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.listContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.listRowHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.list_tt,\n          children: \"ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.list_td,\n          children: \"\\uD65C\\uB3D9\\uC77C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.list_td,\n          children: \"\\uC791\\uC131\\uAE00 \\uC218\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), paginated.map(user => {\n        var _user$postCount;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.listRow,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.list_tt,\n            children: formatPhone(user.phone)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.list_td,\n            children: user.inactiveSince ? new Date(user.inactiveSince).toLocaleDateString('ko-KR') : '정보 없음'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.list_td,\n            children: [(_user$postCount = user.postCount) !== null && _user$postCount !== void 0 ? _user$postCount : 0, \"\\uAC74\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, user._id.$oid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.pagination,\n      children: Array.from({\n        length: Math.ceil(users.length / ITEMS_PER_PAGE)\n      }, (_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage(i + 1),\n        className: currentPage === i + 1 ? styles.activePage : '',\n        children: i + 1\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(UserList, \"DACn+0MnI+2R/NzYR5vwNrxZBDg=\");\n_c = UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["useState","useEffect","axios","styles","jsxDEV","_jsxDEV","ITEMS_PER_PAGE","UserList","isAdmin","_s","users","setUsers","currentPage","setCurrentPage","formatPhone","phone","slice","get","headers","Authorization","localStorage","getItem","then","res","data","catch","err","console","error","paginated","className","card","children","listHeader","fileName","_jsxFileName","lineNumber","columnNumber","listContainer","listRowHeader","list_tt","list_td","map","user","_user$postCount","listRow","inactiveSince","Date","toLocaleDateString","postCount","_id","$oid","pagination","Array","from","length","Math","ceil","_","i","onClick","activePage","_c","$RefreshReg$"],"sources":["D:/creative/react/hwaksee/client/src/pages/UserList.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from '../api/axios';\r\nimport styles from '../css/Dashboard.module.css';\r\n\r\nconst ITEMS_PER_PAGE = 20;\r\n\r\nexport default function UserList({ isAdmin }) {\r\n  const [users, setUsers] = useState([]);\r\n  // const [selected, setSelected] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const formatPhone = phone => phone?.slice(-8) || '정보 없음';\r\n\r\n  useEffect(() => {\r\n    axios.get('/users', {\r\n      headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n    })\r\n    .then(res => setUsers(res.data))\r\n    .catch(err => console.error('사용자 불러오기 실패:', err));\r\n  }, []);\r\n\r\n  // const toggleSelect = id => {\r\n  //   setSelected(prev =>\r\n  //     prev.includes(id) ? prev.filter(i => i !== id) : [...prev, id]\r\n  //   );\r\n  // };\r\n\r\n  const paginated = users.slice((currentPage - 1) * ITEMS_PER_PAGE, currentPage * ITEMS_PER_PAGE);\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      <div className={styles.listHeader}>\r\n        <h3>사용자 리스트</h3>\r\n      </div>\r\n\r\n      <div className={styles.listContainer}>\r\n        <div className={styles.listRowHeader}>\r\n          <div></div>\r\n          <div className={styles.list_tt}>ID</div>\r\n          <div className={styles.list_td}>활동일</div>\r\n          <div className={styles.list_td}>작성글 수</div>\r\n        </div>\r\n\r\n        {paginated.map(user => (\r\n          <div key={user._id.$oid} className={styles.listRow}>\r\n            <div>\r\n              {/* {isAdmin && (\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selected.includes(user._id.$oid)}\r\n                  onChange={() => toggleSelect(user._id.$oid)}\r\n                />\r\n              )} */}\r\n            </div>\r\n            <div className={styles.list_tt}>{formatPhone(user.phone)}</div>\r\n            <div className={styles.list_td}>{user.inactiveSince ? new Date(user.inactiveSince).toLocaleDateString('ko-KR') : '정보 없음'}</div>\r\n            <div className={styles.list_td}>{user.postCount ?? 0}건</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className={styles.pagination}>\r\n        {Array.from({ length: Math.ceil(users.length / ITEMS_PER_PAGE) }, (_, i) => (\r\n          <button\r\n            key={i}\r\n            onClick={() => setCurrentPage(i + 1)}\r\n            className={currentPage === i + 1 ? styles.activePage : ''}\r\n          >\r\n            {i + 1}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}