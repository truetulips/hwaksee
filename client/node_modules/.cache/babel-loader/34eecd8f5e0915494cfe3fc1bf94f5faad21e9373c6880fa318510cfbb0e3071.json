{"ast":null,"code":"import{useEffect,useState}from'react';import PostList from'../components/PostList';import axios from'../api/axios';import styles from'../css/Posts.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostsPage(_ref){let{user}=_ref;const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const fetchPosts=async()=>{try{const res=await axios.get('/posts');setPosts(res.data);}catch(err){console.error('❌ 글 목록 조회 실패:',err.message);}finally{setLoading(false);}};useEffect(()=>{fetchPosts();},[]);if(loading||!user||!user._id||!user.role){return/*#__PURE__*/_jsx(\"div\",{className:styles.main,children:\"\\uAE00 \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.main,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC804\\uCCB4 \\uB9E4\\uCE6D\\uAE00\"}),/*#__PURE__*/_jsx(PostList,{posts:posts,currentUserId:user._id,userRole:user.role,onRefresh:fetchPosts})]});}","map":{"version":3,"names":["useEffect","useState","PostList","axios","styles","jsx","_jsx","jsxs","_jsxs","PostsPage","_ref","user","posts","setPosts","loading","setLoading","fetchPosts","res","get","data","err","console","error","message","_id","role","className","main","children","currentUserId","userRole","onRefresh"],"sources":["D:/creative/react/hwaksee/client/src/pages/PostsPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport PostList from '../components/PostList';\r\nimport axios from '../api/axios';\r\nimport styles from '../css/Posts.module.css';\r\n\r\nexport default function PostsPage({ user }) {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchPosts = async () => {\r\n    try {\r\n      const res = await axios.get('/posts');\r\n      setPosts(res.data);\r\n    } catch (err) {\r\n      console.error('❌ 글 목록 조회 실패:', err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  if (loading || !user || !user._id || !user.role) {\r\n    return <div className={styles.main}>글 목록을 불러오는 중...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.main}>\r\n      <h2>전체 매칭글</h2>\r\n      <PostList\r\n        posts={posts}\r\n        currentUserId={user._id}\r\n        userRole={user.role}\r\n        onRefresh={fetchPosts}\r\n      />\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,KAAK,KAAM,cAAc,CAChC,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAAW,IAAV,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACxC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAe,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,QAAQ,CAAC,CACrCL,QAAQ,CAACI,GAAG,CAACE,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEF,GAAG,CAACG,OAAO,CAAC,CAC7C,CAAC,OAAS,CACRR,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDf,SAAS,CAAC,IAAM,CACdgB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,OAAO,EAAI,CAACH,IAAI,EAAI,CAACA,IAAI,CAACa,GAAG,EAAI,CAACb,IAAI,CAACc,IAAI,CAAE,CAC/C,mBAAOnB,IAAA,QAAKoB,SAAS,CAAEtB,MAAM,CAACuB,IAAK,CAAAC,QAAA,CAAC,8DAAe,CAAK,CAAC,CAC3D,CAEA,mBACEpB,KAAA,QAAKkB,SAAS,CAAEtB,MAAM,CAACuB,IAAK,CAAAC,QAAA,eAC1BtB,IAAA,OAAAsB,QAAA,CAAI,iCAAM,CAAI,CAAC,cACftB,IAAA,CAACJ,QAAQ,EACPU,KAAK,CAAEA,KAAM,CACbiB,aAAa,CAAElB,IAAI,CAACa,GAAI,CACxBM,QAAQ,CAAEnB,IAAI,CAACc,IAAK,CACpBM,SAAS,CAAEf,UAAW,CACvB,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}