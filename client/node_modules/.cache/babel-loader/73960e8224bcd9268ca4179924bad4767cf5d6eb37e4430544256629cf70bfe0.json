{"ast":null,"code":"import{useEffect,useState}from'react';import{courierList}from'../data/couriers';import styles from'../css/Form.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TrackingModal(_ref){var _courierList$find;let{courier,tracking,onClose}=_ref;const[status,setStatus]=useState(null);const[error,setError]=useState(null);const courierName=((_courierList$find=courierList.find(c=>c.code===courier))===null||_courierList$find===void 0?void 0:_courierList$find.name)||'Ïïå Ïàò ÏóÜÏùå';useEffect(()=>{const fetchStatus=async()=>{const apiKey=process.env.REACT_APP_SWEETTRACKER_API_KEY;if(!apiKey){setError('API KeyÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.');return;}try{const res=await fetch(\"https://info.sweettracker.co.kr/api/v1/trackingInfo?t_key=\".concat(apiKey,\"&t_code=\").concat(courier,\"&t_invoice=\").concat(tracking));const data=await res.json();console.log('üì¶ SweetTracker ÏùëÎãµ:',data);if(data.invoiceNo&&data.lastDetail){setStatus(data);}else{setError(data.msg||'Î∞∞ÏÜ° Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.');}}catch(err){setError('Î∞∞ÏÜ° Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');}};fetchStatus();},[courier,tracking]);return/*#__PURE__*/_jsx(\"div\",{className:styles.overlay,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.modal,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:styles.closeBtn,children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCE6 \\uBC30\\uC1A1 \\uCD94\\uC801\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error}),!error&&!status&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u23F3 \\uBC30\\uC1A1 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4...\"}),status&&/*#__PURE__*/_jsxs(\"div\",{className:styles.statusBox,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD0DD\\uBC30\\uC0AC: \",courierName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC1A1\\uC7A5\\uBC88\\uD638: \",status.invoiceNo]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uBC30\\uC1A1\\uBB3C\\uD488: \",status.itemName]}),status.lastDetail&&/*#__PURE__*/_jsxs(\"div\",{className:styles.trackdetail,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCD5C\\uADFC \\uC704\\uCE58: \",status.lastDetail.where]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCC98\\uB9AC \\uB0B4\\uC6A9: \",status.lastDetail.kind]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCC98\\uB9AC \\uC2DC\\uAC01: \",status.lastDetail.timeString]})]})]})]})});}","map":{"version":3,"names":["useEffect","useState","courierList","styles","jsx","_jsx","jsxs","_jsxs","TrackingModal","_ref","_courierList$find","courier","tracking","onClose","status","setStatus","error","setError","courierName","find","c","code","name","fetchStatus","apiKey","process","env","REACT_APP_SWEETTRACKER_API_KEY","res","fetch","concat","data","json","console","log","invoiceNo","lastDetail","msg","err","className","overlay","children","modal","onClick","closeBtn","statusBox","itemName","trackdetail","where","kind","timeString"],"sources":["D:/creative/react/hwaksee/client/src/components/TrackingModal.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { courierList } from '../data/couriers';\r\nimport styles from '../css/Form.module.css';\r\n\r\nexport default function TrackingModal({ courier, tracking, onClose }) {\r\n    const [status, setStatus] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    const courierName = courierList.find(c => c.code === courier)?.name || 'Ïïå Ïàò ÏóÜÏùå';\r\n\r\n    useEffect(() => {\r\n        const fetchStatus = async () => {\r\n        const apiKey = process.env.REACT_APP_SWEETTRACKER_API_KEY;\r\n\r\n        if (!apiKey) {\r\n            setError('API KeyÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(\r\n            `https://info.sweettracker.co.kr/api/v1/trackingInfo?t_key=${apiKey}&t_code=${courier}&t_invoice=${tracking}`\r\n            );\r\n            const data = await res.json();\r\n            console.log('üì¶ SweetTracker ÏùëÎãµ:', data);\r\n\r\n            if (data.invoiceNo && data.lastDetail) {\r\n            setStatus(data);\r\n            } else {\r\n            setError(data.msg || 'Î∞∞ÏÜ° Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.');\r\n            }\r\n        } catch (err) {\r\n            setError('Î∞∞ÏÜ° Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');\r\n        }\r\n        };\r\n\r\n        fetchStatus();\r\n    }, [courier, tracking]);\r\n\r\n    return (\r\n        <div className={styles.overlay}>\r\n        <div className={styles.modal}>\r\n            <button onClick={onClose} className={styles.closeBtn}>‚ùå</button>\r\n            <h4>üì¶ Î∞∞ÏÜ° Ï∂îÏ†Å</h4>\r\n\r\n            {error && <p className={styles.error}>{error}</p>}\r\n\r\n            {!error && !status && (\r\n            <p>‚è≥ Î∞∞ÏÜ° Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...</p>\r\n            )}\r\n\r\n            {status && (\r\n            <div className={styles.statusBox}>\r\n                <p>ÌÉùÎ∞∞ÏÇ¨: {courierName}</p>\r\n                <p>ÏÜ°Ïû•Î≤àÌò∏: {status.invoiceNo}</p>\r\n                <p>Î∞∞ÏÜ°Î¨ºÌíà: {status.itemName}</p>\r\n                {status.lastDetail && (\r\n                <div className={styles.trackdetail}>\r\n                    <p>ÏµúÍ∑º ÏúÑÏπò: {status.lastDetail.where}</p>\r\n                    <p>Ï≤òÎ¶¨ ÎÇ¥Ïö©: {status.lastDetail.kind}</p>\r\n                    <p>Ï≤òÎ¶¨ ÏãúÍ∞Å: {status.lastDetail.timeString}</p>\r\n                </div>\r\n                )}\r\n            </div>\r\n            )}\r\n        </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}