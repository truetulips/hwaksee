{"ast":null,"code":"import{Link,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import styles from'../css/Header.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(_ref){var _user$phone;let{user,onLogout}=_ref;const navigate=useNavigate();const[isNavOpen,setIsNavOpen]=useState(false);const maskedPhone=user===null||user===void 0?void 0:(_user$phone=user.phone)===null||_user$phone===void 0?void 0:_user$phone.slice(-4);const isAdmin=(user===null||user===void 0?void 0:user.role)==='admin';const isManager=(user===null||user===void 0?void 0:user.role)==='manager';// ‚úÖ Î°úÍ∑∏Ïù∏ ÌõÑ 0.5Ï¥à Îí§ nav ÏûêÎèô Ïó¥Î¶º\nuseEffect(()=>{if(user){const timer=setTimeout(()=>setIsNavOpen(true),0);return()=>clearTimeout(timer);}else{setIsNavOpen(false);}},[user]);return/*#__PURE__*/_jsxs(\"header\",{className:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.topBar,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.home,onClick:()=>navigate('/'),children:/*#__PURE__*/_jsx(\"i\",{className:styles.homeIcon})}),/*#__PURE__*/_jsx(\"h1\",{className:styles.brand,children:\"\\uD655see\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.auth,children:!user?/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\uB85C\\uADF8\\uC778\"}):/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})})]}),user&&/*#__PURE__*/_jsxs(\"nav\",{className:\"\".concat(styles.navBar,\" \").concat(isNavOpen?styles.open:''),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.navLeft,children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:styles.user}),maskedPhone,\" \\uB2D8\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.navCenter,children:[/*#__PURE__*/_jsx(Link,{to:\"/About\",children:\"\\uC11C\\uBE44\\uC2A4 \\uC18C\\uAC1C\"}),/*#__PURE__*/_jsx(Link,{to:\"/Process\",children:\"\\uC9C4\\uD589 \\uC548\\uB0B4\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"MyPosts\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.navRight,children:(isAdmin||isManager)&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"\\uAD00\\uB9AC\\uC790\"})})]})]});}","map":{"version":3,"names":["Link","useNavigate","useState","useEffect","styles","jsx","_jsx","jsxs","_jsxs","Header","_ref","_user$phone","user","onLogout","navigate","isNavOpen","setIsNavOpen","maskedPhone","phone","slice","isAdmin","role","isManager","timer","setTimeout","clearTimeout","className","header","children","topBar","home","onClick","homeIcon","brand","auth","to","concat","navBar","open","navLeft","navCenter","navRight"],"sources":["D:/creative/react/hwaksee/client/src/components/Header.jsx"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport styles from '../css/Header.module.css';\r\n\r\nexport default function Header({ user, onLogout }) {\r\n    const navigate = useNavigate();\r\n    const [isNavOpen, setIsNavOpen] = useState(false);\r\n\r\n    const maskedPhone = user?.phone?.slice(-4);\r\n    const isAdmin = user?.role === 'admin';\r\n    const isManager = user?.role === 'manager';\r\n\r\n    // ‚úÖ Î°úÍ∑∏Ïù∏ ÌõÑ 0.5Ï¥à Îí§ nav ÏûêÎèô Ïó¥Î¶º\r\n    useEffect(() => {\r\n        if (user) {\r\n        const timer = setTimeout(() => setIsNavOpen(true), 0);\r\n        return () => clearTimeout(timer);\r\n        } else {\r\n        setIsNavOpen(false);\r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <header className={styles.header}>\r\n        {/* üîù ÏÉÅÎã® Ìó§Îçî */}\r\n        <div className={styles.topBar}>\r\n            <button className={styles.home} onClick={() => navigate('/')}><i className={styles.homeIcon}></i></button>\r\n            <h1 className={styles.brand}>Ìôïsee</h1>\r\n            <div className={styles.auth}>\r\n            {!user ? (\r\n                <Link to=\"/login\">Î°úÍ∑∏Ïù∏</Link>\r\n            ) : (\r\n                <button onClick={onLogout}>Î°úÍ∑∏ÏïÑÏõÉ</button>\r\n            )}\r\n            </div>\r\n        </div>\r\n\r\n        {/* üìå ÏûêÎèô Ïä¨ÎùºÏù¥Îìú nav */}\r\n        {user && (\r\n            <nav className={`${styles.navBar} ${isNavOpen ? styles.open : ''}`}>\r\n                <div className={styles.navLeft}>\r\n                    <span><i className={styles.user}></i>{maskedPhone} Îãò</span>\r\n                </div>\r\n\r\n                <div className={styles.navCenter}>\r\n                    <Link to=\"/About\">ÏÑúÎπÑÏä§ ÏÜåÍ∞ú</Link>\r\n                    <Link to=\"/Process\">ÏßÑÌñâ ÏïàÎÇ¥</Link>\r\n                    <Link to=\"/\">MyPosts</Link>\r\n                </div>\r\n\r\n                <div className={styles.navRight}>\r\n                    {(isAdmin || isManager) && (\r\n                    <Link to=\"/admin\">Í¥ÄÎ¶¨Ïûê</Link>\r\n                    )}\r\n                </div>\r\n            </nav>\r\n        )}\r\n        </header>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}